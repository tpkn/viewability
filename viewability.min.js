/*!
 * Viewability, http://tpkn.me/
 */
function Viewability(e,t,n){function i(e,t,n,i,o,r){return e<=n&&i<=t?100:n<=e&&t<=i?o/r*100:n<=e&&e<=i?(i-e)/r*100:t<=i&&n<=t?(t-n)/r*100:0}if("object"!=typeof e)throw new Error("no stage object");if("object"!=typeof t)throw new Error("no element object");var o,r,f,c,l,u,g,a,s,b,p,h,d,y,w,j,m,v=void 0!==n.iab&&n.iab,H="function"!=typeof n.on_visible?null:n.on_visible,T="number"!=typeof n.percentage&&v?50:n.percentage;return{check:function(){return r=e.pageXOffset||e.scrollLeft,f=e.pageYOffset||e.scrollTop,c=e.innerWidth||e.clientWidth,l=e.innerHeight||e.clientHeight,u=t.offsetWidth,g=t.offsetHeight,b=(a=r)+c,p=(s=f)+l,h=t.getBoundingClientRect().left+r,d=t.getBoundingClientRect().top+f,y=d+g,w=i(a,b,h,h+u,c,u),j=i(s,p,d,y,l,g),m=w*u/100*(j*g/100)/(u*g)*100,clearTimeout(o),T<=m&&H&&(v?o=setTimeout(H,1e3):H()),{x:w,y:j,square:m}}}}