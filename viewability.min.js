/*!
 * Viewability, http://tpkn.me/
 */
function Viewability(n,i,e){function o(e,t,n,i,o,r){var f;return{num:f=e<=n&&i<=t?r:n<=e&&t<=i?o:n<=e&&e<=i?i-e:t<=i&&n<=t?t-n:0,per:f/r*100}}if("object"!=typeof n)throw new Error("no stage object");if("object"!=typeof i)throw new Error("no element object");var r,f,c,u,l,a,p,g,s,b,h,m,d,v,y,w=void 0!==e.iab&&e.iab,j="function"!=typeof e.on_visible?null:e.on_visible,H="number"!=typeof e.percentage&&w?50:e.percentage;return{check:function(){var e,t;return f=n.innerWidth||n.clientWidth,c=n.innerHeight||n.clientHeight,u=i.offsetWidth,l=i.offsetHeight,a=n.pageXOffset||n.scrollLeft,p=n.pageYOffset||n.scrollTop,g=a+f,s=p+c,b=i.getBoundingClientRect().left+a,h=i.getBoundingClientRect().top+p,m=h+l,d=o(a,g,b,b+u,f,u),v=o(p,s,h,m,c,l),e=d.num,t=v.num,y=e*t/(u*l)*100,clearTimeout(r),H<=y&&j&&(w?r=setTimeout(j,1e3):j()),{x:d.per,y:v.per,square:y}}}}